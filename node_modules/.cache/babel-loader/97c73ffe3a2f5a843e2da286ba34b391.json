{"ast":null,"code":"import _classCallCheck from \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/src/Components/AddEvent.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport DatePicker from 'react-date-picker';\nimport { fetchLocations as _fetchLocations } from \"../actions/LocationActions\";\nimport { fetchMusicStyles as _fetchMusicStyles } from \"../actions/MusicStyleActions\";\nimport { addEvent as _addEvent } from \"../actions/EventActions\";\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchLocations: function fetchLocations() {\n      dispatch(_fetchLocations());\n    },\n    fetchMusicStyles: function fetchMusicStyles() {\n      dispatch(_fetchMusicStyles());\n    },\n    addEvent: function addEvent(event) {\n      dispatch(_addEvent(event));\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    locations: state.locations.items,\n    loading_location: state.locations.loading,\n    error_location: state.locations.error,\n    musicstyles: state.musicstyles.items,\n    loading_musicstyles: state.musicstyles.loading,\n    error_musicstyles: state.musicstyles.error\n  };\n};\n\nvar AddEvent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddEvent, _Component);\n\n  function AddEvent(props) {\n    var _this;\n\n    _classCallCheck(this, AddEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddEvent).call(this, props));\n    _this.state = {\n      title: '',\n      dateBegin: '',\n      dateEnd: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddEvent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.state.locations != []) {\n        this.props.fetchLocations();\n      }\n\n      if (this.state.musicstyles != []) {\n        this.props.fetchMusicStyles();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          error = _this$props.error,\n          loading = _this$props.loading;\n\n      if (error) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, \"Error! \", error.message);\n      }\n\n      if (loading) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"newEvent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.value,\n        placeholder: \"Event title\",\n        onChange: function onChange(evt) {\n          return _this2.updateInputValue(evt);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Starts : \"), React.createElement(DatePicker, {\n        OnChange: this.updateDateBegin,\n        value: this.state.dateBegin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Ends : \"), React.createElement(DatePicker, {\n        OnChange: this.updateDateEnd,\n        value: this.state.dateEnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        multiple: true,\n        placeholder: \"locations\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.props.locations.map(function (location) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"checkbox\",\n          value: _this2.location.name,\n          input: function input(evt) {\n            return _this2.updateLocationsInput(evt);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }));\n      })), React.createElement(\"button\", {\n        className: \"createEvent_b\",\n        onClick: function onClick() {\n          return _this2.OnClickCreateEvent();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Create a new Event !\")));\n    }\n  }, {\n    key: \"OnClickCreateEvent\",\n    value: function OnClickCreateEvent() {}\n  }, {\n    key: \"updateLocationsInput\",\n    value: function updateLocationsInput(evt) {\n      console.log(\"input : \", evt);\n    }\n  }, {\n    key: \"updateTitleInput\",\n    value: function updateTitleInput(evt) {\n      this.setState({\n        title: evt.target.value\n      });\n    }\n  }, {\n    key: \"updateDateBegin\",\n    value: function updateDateBegin(evt) {\n      console.log(\"dateBegin update : \", evt);\n      this.setState({\n        dateBegin: evt.target.value\n      });\n    }\n  }, {\n    key: \"updateDateEnd\",\n    value: function updateDateEnd(evt) {\n      this.setState({\n        dateEnd: evt.target.value\n      });\n    }\n  }]);\n\n  return AddEvent;\n}(Component);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEvent);","map":{"version":3,"sources":["/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/src/Components/AddEvent.js"],"names":["React","Component","connect","Header","DatePicker","fetchLocations","fetchMusicStyles","addEvent","mapDispatchToProps","dispatch","event","mapStateToProps","state","locations","items","loading_location","loading","error_location","error","musicstyles","loading_musicstyles","error_musicstyles","AddEvent","props","title","dateBegin","dateEnd","message","value","evt","updateInputValue","updateDateBegin","updateDateEnd","map","location","name","updateLocationsInput","OnClickCreateEvent","console","log","setState","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport DatePicker from 'react-date-picker';\nimport { fetchLocations } from \"../actions/LocationActions\";\nimport { fetchMusicStyles } from \"../actions/MusicStyleActions\";\nimport { addEvent } from \"../actions/EventActions\";\n\nconst mapDispatchToProps = dispatch => {\n    return{\n        fetchLocations: ()=>{\n            dispatch(fetchLocations());\n        },\n        fetchMusicStyles: ()=>{\n            dispatch(fetchMusicStyles());\n        },\n        addEvent: (event)=>{\n            dispatch(addEvent(event));\n        }\n    }\n}\n\nconst mapStateToProps = state => ({\n    locations: state.locations.items,\n    loading_location: state.locations.loading,\n    error_location: state.locations.error,\n    musicstyles: state.musicstyles.items,\n    loading_musicstyles: state.musicstyles.loading,\n    error_musicstyles: state.musicstyles.error\n  });\n\nclass AddEvent extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            title: '',\n            dateBegin: '',\n            dateEnd: '',\n        }\n    }\n\n    componentDidMount(){\n        if(this.state.locations != []){\n            this.props.fetchLocations();\n        }\n        if(this.state.musicstyles != []){\n            this.props.fetchMusicStyles();\n        }\n    }\n\n    render(){\n        const { error, loading } = this.props;\n    \n        if (error) {\n            return <div>Error! {error.message}</div>;\n        }\n        \n        if (loading) {\n            return <div>Loading...</div>;\n        }\n\n        return (\n            <div className=\"App\">\n                <Header />\n                <div className=\"newEvent\">\n                    <input type=\"text\" value={this.state.value} placeholder=\"Event title\" onChange={evt => this.updateInputValue(evt)}/>\n                    <p>Starts : </p>\n                    <DatePicker OnChange={this.updateDateBegin} value={this.state.dateBegin}/>\n                    <p>Ends : </p>\n                    <DatePicker OnChange={this.updateDateEnd} value={this.state.dateEnd}/>\n                    <select multiple placeholder=\"locations\">\n                        {this.props.locations.map(location => (\n                           <option><input type=\"checkbox\" value={this.location.name} input={evt => this.updateLocationsInput(evt)} /></option> \n                        ))}\n                    </select>\n\n                    <button className=\"createEvent_b\" onClick={() => this.OnClickCreateEvent()}>Create a new Event !</button>\n                </div>\n            </div>\n            \n        )\n    }\n\n    OnClickCreateEvent(){\n\n    }\n\n    updateLocationsInput(evt){\n        console.log(\"input : \", evt);\n    }\n\n    updateTitleInput(evt){\n        this.setState({\n            title: evt.target.value\n        });\n    }\n\n    updateDateBegin(evt){\n        console.log(\"dateBegin update : \", evt);\n        this.setState({\n            dateBegin: evt.target.value\n        });\n    }\n\n    updateDateEnd(evt){\n        this.setState({\n            dateEnd: evt.target.value\n        });\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEvent)"]},"metadata":{},"sourceType":"module"}