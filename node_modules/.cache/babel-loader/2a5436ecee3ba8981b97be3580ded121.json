{"ast":null,"code":"var content = '/events/';\n\nfunction getEvents() {\n  return fetch('/api/events/').then(handleErrors).then(function (res) {\n    return res.json();\n  });\n}\n\nfunction fetchAddEvent(event) {\n  return fetch('/api/events/create', {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: event\n  }).then(handleErrors).then(function (res) {\n    return res.json();\n  });\n}\n\nexport function addEvent(event) {\n  return function (dispatch) {\n    dispatch(addEventBegin());\n    return;\n  };\n}\nexport function fetchEvents() {\n  return function (dispatch) {\n    dispatch(fetchEventsBegin());\n    return getEvents().then(function (json) {\n      console.log(\"success!\", json);\n      dispatch(fetchEventsSuccess(json));\n      return json;\n    }).catch(function (error) {\n      return dispatch(fetchEventsFailure(error));\n    });\n  };\n} // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nexport var FETCH_EVENTS_BEGIN = \"FETCH_EVENTS_BEGIN\";\nexport var FETCH_EVENTS_SUCCESS = \"FETCH_EVENTS_SUCCESS\";\nexport var FETCH_EVENTS_FAILURE = \"FETCH_EVENTS_FAILURE\";\nexport var ADD_EVENT_BEGIN = \"ADD_EVENT_BEGIN\";\nexport var ADD_EVENT_SUCCESS = \"ADD_EVENT_SUCCESS\";\nexport var ADD_EVENT_FAILURE = \"ADD_EVENT_FAILURE\";\nexport var fetchEventsBegin = function fetchEventsBegin() {\n  return {\n    type: FETCH_EVENTS_BEGIN\n  };\n};\nexport var fetchEventsSuccess = function fetchEventsSuccess(events) {\n  return {\n    type: FETCH_EVENTS_SUCCESS,\n    payload: {\n      events: events\n    }\n  };\n};\nexport var fetchEventsFailure = function fetchEventsFailure(error) {\n  return {\n    type: FETCH_EVENTS_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};\nexport var addEventBegin = function addEventBegin() {\n  return {\n    type: ADD_EVENT_BEGIN\n  };\n};\nexport var addEventSuccess = function addEventSuccess(event) {\n  return {\n    type: ADD_EVENT_SUCCESS,\n    payload: {\n      event: event\n    }\n  };\n};\nexport var addEventFailure = function addEventFailure(error) {\n  return {\n    type: ADD_EVENT_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};","map":{"version":3,"sources":["/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/src/actions/EventActions.js"],"names":["content","getEvents","fetch","then","handleErrors","res","json","fetchAddEvent","event","method","headers","body","addEvent","dispatch","addEventBegin","fetchEvents","fetchEventsBegin","console","log","fetchEventsSuccess","catch","error","fetchEventsFailure","response","ok","Error","statusText","FETCH_EVENTS_BEGIN","FETCH_EVENTS_SUCCESS","FETCH_EVENTS_FAILURE","ADD_EVENT_BEGIN","ADD_EVENT_SUCCESS","ADD_EVENT_FAILURE","type","events","payload","addEventSuccess","addEventFailure"],"mappings":"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","sourcesContent":["var content = '/events/'\nfunction getEvents() {\n  return fetch('/api/events/')\n    .then(handleErrors)\n    .then(res => res.json());\n}\n\nfunction fetchAddEvent(event) {\n  return fetch('/api/events/create',{\n    method: 'POST',\n    headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: event\n  })\n      .then(handleErrors)\n      .then(res => res.json());\n}\n\nexport function addEvent(event) {\n  return dispatch => {\n    dispatch(addEventBegin());\n    return\n  }\n}\n\nexport function fetchEvents() {\n    return dispatch => {\n      dispatch(fetchEventsBegin());\n      return getEvents()\n        .then(json => {\n          console.log(\"success!\",json);\n          dispatch(fetchEventsSuccess(json));\n          return json;\n        })\n        .catch(error =>\n          dispatch(fetchEventsFailure(error))\n        );\n    };\n  }\n  \n  // Handle HTTP errors since fetch won't.\n  function handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  }\n  \n  export const FETCH_EVENTS_BEGIN = \"FETCH_EVENTS_BEGIN\";\n  export const FETCH_EVENTS_SUCCESS = \"FETCH_EVENTS_SUCCESS\";\n  export const FETCH_EVENTS_FAILURE = \"FETCH_EVENTS_FAILURE\";\n  export const ADD_EVENT_BEGIN = \"ADD_EVENT_BEGIN\";\n  export const ADD_EVENT_SUCCESS = \"ADD_EVENT_SUCCESS\";\n  export const ADD_EVENT_FAILURE = \"ADD_EVENT_FAILURE\";\n  \n  export const fetchEventsBegin = () => ({\n    type: FETCH_EVENTS_BEGIN\n  });\n  \n  export const fetchEventsSuccess = events => ({\n    type: FETCH_EVENTS_SUCCESS,\n    payload: { events }\n  });\n  \n  export const fetchEventsFailure = error => ({\n    type: FETCH_EVENTS_FAILURE,\n    payload: { error }\n  });\n\n  export const addEventBegin = () => ({\n    type: ADD_EVENT_BEGIN\n  });\n  \n  export const addEventSuccess = event => ({\n    type: ADD_EVENT_SUCCESS,\n    payload: { event }\n  });\n  \n  export const addEventFailure = error => ({\n    type: ADD_EVENT_FAILURE,\n    payload: { error }\n  });"]},"metadata":{},"sourceType":"module"}