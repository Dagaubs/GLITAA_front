{"ast":null,"code":"var content = '/events/';\n\nfunction getMusicStyles() {\n  return fetch('/api/musics/').then(handleErrors).then(function (res) {\n    return res.json();\n  });\n}\n\nexport function fetchMusicStyles() {\n  return function (dispatch) {\n    dispatch(fetchMusicStylesBegin());\n    return getMusicStyles().then(function (json) {\n      console.log(\"success!\", json);\n      dispatch(fetchMusicStylesSuccess(json));\n      return json;\n    }).catch(function (error) {\n      return dispatch(fetchMusicStylesFailure(error));\n    });\n  };\n} // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nexport var FETCH_MUSICSTYLES_BEGIN = \"FETCH_MUSICSTYLES_BEGIN\";\nexport var FETCH_MUSICSTYLES_SUCCESS = \"FETCH_MUSICSTYLES_SUCCESS\";\nexport var FETCH_MUSICSTYLES_FAILURE = \"FETCH_MUSICSTYLES_FAILURE\";\nexport var fetchMusicStylesBegin = function fetchMusicStylesBegin() {\n  return {\n    type: FETCH_MUSICSTYLES_BEGIN\n  };\n};\nexport var fetchMusicStylesSuccess = function fetchMusicStylesSuccess(musicstyles) {\n  return {\n    type: FETCH_MUSICSTYLES_SUCCESS,\n    payload: {\n      musicstyles: musicstyles\n    }\n  };\n};\nexport var fetchMusicStylesFailure = function fetchMusicStylesFailure(error) {\n  return {\n    type: FETCH_MUSICSTYLES_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};","map":{"version":3,"sources":["/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/src/actions/MusicStyleActions.js"],"names":["content","getMusicStyles","fetch","then","handleErrors","res","json","fetchMusicStyles","dispatch","fetchMusicStylesBegin","console","log","fetchMusicStylesSuccess","catch","error","fetchMusicStylesFailure","response","ok","Error","statusText","FETCH_MUSICSTYLES_BEGIN","FETCH_MUSICSTYLES_SUCCESS","FETCH_MUSICSTYLES_FAILURE","type","musicstyles","payload"],"mappings":"AAAA,IAAIA,OAAO,GAAG,UAAd;;AACA,SAASC,cAAT,GAA0B;AACtB,SAAOC,KAAK,CAAC,cAAD,CAAL,CACJC,IADI,CACCC,YADD,EAEJD,IAFI,CAEC,UAAAE,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GAFJ,CAAP;AAGD;;AAGH,OAAO,SAASC,gBAAT,GAA4B;AAC/B,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACC,qBAAqB,EAAtB,CAAR;AACA,WAAOR,cAAc,GAClBE,IADI,CACC,UAAAG,IAAI,EAAI;AACZI,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBL,IAAvB;AACAE,MAAAA,QAAQ,CAACI,uBAAuB,CAACN,IAAD,CAAxB,CAAR;AACA,aAAOA,IAAP;AACD,KALI,EAMJO,KANI,CAME,UAAAC,KAAK;AAAA,aACVN,QAAQ,CAACO,uBAAuB,CAACD,KAAD,CAAxB,CADE;AAAA,KANP,CAAP;AASD,GAXD;AAYD,C,CAED;;AACA,SAASV,YAAT,CAAsBY,QAAtB,EAAgC;AAC9B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AACD,SAAOH,QAAP;AACD;;AAED,OAAO,IAAMI,uBAAuB,GAAG,yBAAhC;AACP,OAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AACP,OAAO,IAAMC,yBAAyB,GAAG,2BAAlC;AAEP,OAAO,IAAMb,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAO;AAC1Cc,IAAAA,IAAI,EAAEH;AADoC,GAAP;AAAA,CAA9B;AAIP,OAAO,IAAMR,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAY,WAAW;AAAA,SAAK;AACrDD,IAAAA,IAAI,EAAEF,yBAD+C;AAErDI,IAAAA,OAAO,EAAE;AAAED,MAAAA,WAAW,EAAXA;AAAF;AAF4C,GAAL;AAAA,CAA3C;AAKP,OAAO,IAAMT,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAD,KAAK;AAAA,SAAK;AAC/CS,IAAAA,IAAI,EAAED,yBADyC;AAE/CG,IAAAA,OAAO,EAAE;AAAEX,MAAAA,KAAK,EAALA;AAAF;AAFsC,GAAL;AAAA,CAArC","sourcesContent":["var content = '/events/'\nfunction getMusicStyles() {\n    return fetch('/api/musics/')\n      .then(handleErrors)\n      .then(res => res.json());\n  }\n  \n\nexport function fetchMusicStyles() {\n    return dispatch => {\n      dispatch(fetchMusicStylesBegin());\n      return getMusicStyles()\n        .then(json => {\n          console.log(\"success!\",json);\n          dispatch(fetchMusicStylesSuccess(json));\n          return json;\n        })\n        .catch(error =>\n          dispatch(fetchMusicStylesFailure(error))\n        );\n    };\n  }\n  \n  // Handle HTTP errors since fetch won't.\n  function handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  }\n  \n  export const FETCH_MUSICSTYLES_BEGIN = \"FETCH_MUSICSTYLES_BEGIN\";\n  export const FETCH_MUSICSTYLES_SUCCESS = \"FETCH_MUSICSTYLES_SUCCESS\";\n  export const FETCH_MUSICSTYLES_FAILURE = \"FETCH_MUSICSTYLES_FAILURE\";\n  \n  export const fetchMusicStylesBegin = () => ({\n    type: FETCH_MUSICSTYLES_BEGIN\n  });\n  \n  export const fetchMusicStylesSuccess = musicstyles => ({\n    type: FETCH_MUSICSTYLES_SUCCESS,\n    payload: { musicstyles }\n  });\n  \n  export const fetchMusicStylesFailure = error => ({\n    type: FETCH_MUSICSTYLES_FAILURE,\n    payload: { error }\n  });"]},"metadata":{},"sourceType":"module"}