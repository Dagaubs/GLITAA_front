{"ast":null,"code":"var content = '/user/';\n\nfunction getUser(username) {\n  console.log(\"let's get that user :\", username);\n  return fetch('/api/user/' + username).then(handleErrors).then(function (res) {\n    return res.json();\n  });\n}\n\nexport function fetchUser(username) {\n  return function (dispatch) {\n    dispatch(getUserfetchEventsBegin());\n    return getUser(username).then(function (json) {\n      console.log(\"success!\", json);\n      dispatch(getUserSuccess(json));\n      return json;\n    }).catch(function (error) {\n      return dispatch(getUserFailure(error));\n    });\n  };\n} // Handle HTTP errors since fetch won't.\n\nfunction handleErrors(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\nexport var GET_USER_BEGIN = \"GET_USER_BEGIN\";\nexport var GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport var GET_USER_FAILURE = \"GET_USER_FAILURE\";\nexport var getUserBegin = function getUserBegin() {\n  return {\n    type: GET_USER_BEGIN\n  };\n};\nexport var getUserSuccess = function getUserSuccess(user) {\n  return {\n    type: GET_USER_SUCCESS,\n    payload: {\n      user: user\n    }\n  };\n};\nexport var getUserFailure = function getUserFailure(error) {\n  return {\n    type: GET_USER_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};","map":{"version":3,"sources":["/home/dagaubs/Cours/TPs/GLITAA/GLITAA_front/src/actions/UserActions.js"],"names":["content","getUser","username","console","log","fetch","then","handleErrors","res","json","fetchUser","dispatch","getUserfetchEventsBegin","getUserSuccess","catch","error","getUserFailure","response","ok","Error","statusText","GET_USER_BEGIN","GET_USER_SUCCESS","GET_USER_FAILURE","getUserBegin","type","user","payload"],"mappings":"AAAA,IAAIA,OAAO,GAAG,QAAd;;AACA,SAASC,OAAT,CAAiBC,QAAjB,EAA2B;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,QAArC;AAEA,SAAOG,KAAK,CAAC,eAAaH,QAAd,CAAL,CACJI,IADI,CACCC,YADD,EAEJD,IAFI,CAEC,UAAAE,GAAG;AAAA,WAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,GAFJ,CAAP;AAGD;;AAGH,OAAO,SAASC,SAAT,CAAmBR,QAAnB,EAA6B;AAChC,SAAO,UAAAS,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACC,uBAAuB,EAAxB,CAAR;AACA,WAAOX,OAAO,CAACC,QAAD,CAAP,CACJI,IADI,CACC,UAAAG,IAAI,EAAI;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBK,IAAvB;AACAE,MAAAA,QAAQ,CAACE,cAAc,CAACJ,IAAD,CAAf,CAAR;AACA,aAAOA,IAAP;AACD,KALI,EAMJK,KANI,CAME,UAAAC,KAAK;AAAA,aACVJ,QAAQ,CAACK,cAAc,CAACD,KAAD,CAAf,CADE;AAAA,KANP,CAAP;AASD,GAXD;AAYD,C,CAED;;AACA,SAASR,YAAT,CAAsBU,QAAtB,EAAgC;AAC9B,MAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;AAChB,UAAMC,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AACD,SAAOH,QAAP;AACD;;AAED,OAAO,IAAMI,cAAc,GAAG,gBAAvB;AACP,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,IAAMC,gBAAgB,GAAG,kBAAzB;AAEP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,SAAO;AACjCC,IAAAA,IAAI,EAAEJ;AAD2B,GAAP;AAAA,CAArB;AAIP,OAAO,IAAMR,cAAc,GAAG,SAAjBA,cAAiB,CAAAa,IAAI;AAAA,SAAK;AACrCD,IAAAA,IAAI,EAAEH,gBAD+B;AAErCK,IAAAA,OAAO,EAAE;AAAED,MAAAA,IAAI,EAAJA;AAAF;AAF4B,GAAL;AAAA,CAA3B;AAKP,OAAO,IAAMV,cAAc,GAAG,SAAjBA,cAAiB,CAAAD,KAAK;AAAA,SAAK;AACtCU,IAAAA,IAAI,EAAEF,gBADgC;AAEtCI,IAAAA,OAAO,EAAE;AAAEZ,MAAAA,KAAK,EAALA;AAAF;AAF6B,GAAL;AAAA,CAA5B","sourcesContent":["var content = '/user/'\nfunction getUser(username) {\n    console.log(\"let's get that user :\", username);\n    \n    return fetch('/api/user/'+username)\n      .then(handleErrors)\n      .then(res => res.json());\n  }\n  \n\nexport function fetchUser(username) {\n    return dispatch => {\n      dispatch(getUserfetchEventsBegin());\n      return getUser(username)\n        .then(json => {\n          console.log(\"success!\",json);\n          dispatch(getUserSuccess(json));\n          return json;\n        })\n        .catch(error =>\n          dispatch(getUserFailure(error))\n        );\n    };\n  }\n  \n  // Handle HTTP errors since fetch won't.\n  function handleErrors(response) {\n    if (!response.ok) {\n      throw Error(response.statusText);\n    }\n    return response;\n  }\n  \n  export const GET_USER_BEGIN = \"GET_USER_BEGIN\";\n  export const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\n  export const GET_USER_FAILURE = \"GET_USER_FAILURE\";\n  \n  export const getUserBegin = () => ({\n    type: GET_USER_BEGIN\n  });\n  \n  export const getUserSuccess = user => ({\n    type: GET_USER_SUCCESS,\n    payload: { user }\n  });\n  \n  export const getUserFailure = error => ({\n    type: GET_USER_FAILURE,\n    payload: { error }\n  });"]},"metadata":{},"sourceType":"module"}